{"ast":null,"code":"import { onMounted, computed, watch } from \"vue\";\n// import { computed } from \"vue\";\nimport HomeView from \"./views/HomeView.vue\";\nimport AdminDash from \"./views/AdminDash.vue\";\nimport UserDash from \"./views/UserDash.vue\";\nexport default {\n  name: \"AppV\",\n  components: {\n    HomeView,\n    AdminDash,\n    UserDash\n  },\n  setup() {\n    onMounted(() => {\n      console.log(\"mounted\");\n      document.title = \"Ticket Show\";\n    });\n    const currentComponent = computed(() => {\n      const token = localStorage.getItem(\"token\");\n      const role = localStorage.getItem(\"role\");\n      if (!token) {\n        // No access token, render HomeView\n        return \"HomeView\";\n      } else {\n        if (role === \"admin\") {\n          // this.$router.go(0);\n          return \"AdminDash\";\n        } else {\n          // this.$router.go(0);\n          return \"UserDash\";\n        }\n      }\n    });\n    watch(currentComponent => {\n      if (currentComponent.value === \"AdminDash\" || currentComponent.value === \"UserDash\") {\n        // this.$router.go(0);\n        // window.location.reload();\n      }\n    });\n    return {\n      currentComponent\n    };\n  }\n};","map":{"version":3,"names":["onMounted","computed","watch","HomeView","AdminDash","UserDash","name","components","setup","console","log","document","title","currentComponent","token","localStorage","getItem","role","value"],"sources":["src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <component :is=\"currentComponent\" />\n  </div>\n</template>\n\n<script>\nimport { onMounted, computed, watch } from \"vue\";\n// import { computed } from \"vue\";\nimport HomeView from \"./views/HomeView.vue\";\nimport AdminDash from \"./views/AdminDash.vue\";\nimport UserDash from \"./views/UserDash.vue\";\n\nexport default {\n  name: \"AppV\",\n  components: { HomeView, AdminDash, UserDash },\n  setup() {\n    onMounted(() => {\n      console.log(\"mounted\");\n      document.title = \"Ticket Show\";\n    });\n\n    const currentComponent = computed(() => {\n      const token = localStorage.getItem(\"token\");\n      const role = localStorage.getItem(\"role\");\n\n      if (!token) {\n        // No access token, render HomeView\n        return \"HomeView\";\n      } else {\n        if (role === \"admin\") {\n          // this.$router.go(0);\n          return \"AdminDash\";\n        } else {\n          // this.$router.go(0);\n          return \"UserDash\";\n        }\n      }\n    });\n    watch((currentComponent) => {\n      if (\n        currentComponent.value === \"AdminDash\" ||\n        currentComponent.value === \"UserDash\"\n      ) {\n        // this.$router.go(0);\n        // window.location.reload();\n      }\n    });\n    return {\n      currentComponent,\n    };\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\nnav {\n  padding: 30px;\n}\n\nnav a {\n  font-weight: bold;\n  color: #2c3e50;\n}\n\nnav a.router-link-exact-active {\n  color: #42b983;\n}\n</style>\n"],"mappings":"AAOA,SAAAA,SAAA,EAAAC,QAAA,EAAAC,KAAA;AACA;AACA,OAAAC,QAAA;AACA,OAAAC,SAAA;AACA,OAAAC,QAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAJ,QAAA;IAAAC,SAAA;IAAAC;EAAA;EACAG,MAAA;IACAR,SAAA;MACAS,OAAA,CAAAC,GAAA;MACAC,QAAA,CAAAC,KAAA;IACA;IAEA,MAAAC,gBAAA,GAAAZ,QAAA;MACA,MAAAa,KAAA,GAAAC,YAAA,CAAAC,OAAA;MACA,MAAAC,IAAA,GAAAF,YAAA,CAAAC,OAAA;MAEA,KAAAF,KAAA;QACA;QACA;MACA;QACA,IAAAG,IAAA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;IACA;IACAf,KAAA,CAAAW,gBAAA;MACA,IACAA,gBAAA,CAAAK,KAAA,oBACAL,gBAAA,CAAAK,KAAA,iBACA;QACA;QACA;MAAA;IAEA;IACA;MACAL;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}